{% for message in messages %}
    {% if message.sender == current_user %}
        <div class="chat-bubble chat-bubble-sent" role="alert">
            <p class="mb-0">{{ message.body }}</p>
            <div class="chat-bubble-meta">
                {{ message.timestamp.strftime('%H:%M') }}
            </div>
        </div>
    {% else %}
        <div class="chat-bubble chat-bubble-received" role="alert">
            <h6 class="mb-1" style="font-size: 0.9rem; font-weight: 600;">{{ recipient.username }}</h6>
            <p class="mb-0">{{ message.body }}</p>
            <div class="chat-bubble-meta">
                {{ message.timestamp.strftime('%H:%M') }}
            </div>
        </div>
    {% endif %}
{% endfor %}